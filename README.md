# api_yamdb

### Описание

В данном проекте реализоавно API на основе Django REST framework. Данный
програмный
интерфейс позволяет выполнять взаимодействие с БД проекта Yamdb. Проект Yamdb
представляет
собой платформу для изучения инфоормации о произведениях искуства(кино, музыки
и пр.) в различных
жанрах и категориях, а также для оставления отзывов к этим произведениям.
Аутентификация производится с помошью JWT-токена.

### Установка:

1) Запустите терминал и откройте в нем папку, в которую хотите клонировать
   проект.
2) Клонируйте репозиторий:
```
git clone git@github.com:Bzhukov/infra_sp2.git
```
3) Перейдите в папку infra и переименуйте файл example.env в .env и заполните данными для подключения к бд:

```
cd infra_sp2/infra
mv example.env .env
nano example.env
```
В файле необходимо указать данные для подключения к базе данных.

**Формат файла .env:**
```
DB_NAME=<имя базы данных>
POSTGRES_USER=<логин для подключения к базе данных>
POSTGRES_PASSWORD=<пароль для подключения к БД (установите свой)>
DB_HOST=<название сервиса (контейнера)>
DB_PORT=<порт для подключения к БД>
```
4): Для сборки образов и создания контейнеров запустите следующую команду

```
docker-compose up -d 
```
5) Перейдите в контейнер под названием web:

```
docker-compose exec -it web bash
```
6) В контейнере необходимо выполнить миграции, собрать статику и создать
   суперюзера:

```
python manage.py migrate
python manage.py createsuperuser
exit
```
Обратите внимание, что все команды необходимо выполнять в директории,
в которой расположен файл **manage.py**.

7) Заполните базу демо данными
```
docker-compose cp fixtures.json web:/app/fixtures.json
docker-compose exec web python manage.py loaddata fixtures.json
```

# Ресурсы API YaMDb

**AUTH**: аутентификация.

**USERS**: пользователи.

**TITLES**: произведения.

**CATEGORIES**: категории произведений.

**GENRES**: жанры произведений.

**REVIEWS**: отзывы на произведения.

**COMMENTS**: комментарии к отзывам.

# Пользовательские роли

**Аноним** — может просматривать описания произведений, читать отзывы и
комментарии.

**Аутентифицированный пользователь (user)** — может читать всё, как и Аноним,
дополнительно может публиковать отзывы и ставить оценки произведениям, может
комментировать чужие отзывы, может редактировать и удалять свои отзывы и
комментарии.

**Модератор (moderator)** — те же права, что и у Аутентифицированного
пользователя, а так же право удалять и редактировать любые отзывы и
комментарии.

**Администратор (admin)** — полные права на управление проектом и всем его
содержимым. Может создавать и удалять произведения, категории и жанры. Может
назначать роли пользователям.

**Администратор Django** — те же права, что и у роли Администратор.

# ReDoc

Подробности об этом API, а так же примеры запросов можно найти в ReDoc
документации по адресу:

```
/redoc/
```

Пример развернутого проекта можно найти по адресу: http://bot-assist.ru/redoc


<img src="https://github.com/Bzhukov/yamdb_final/actions/workflows/yamdb_workflow.yml/badge.svg">